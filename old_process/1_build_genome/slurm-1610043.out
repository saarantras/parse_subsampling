Thu May 25 18:30:14 EDT 2023

CommandNotFoundError: Your shell has not been properly configured to use 'conda deactivate'.
To initialize your shell, run

    $ conda init <SHELL_NAME>

Currently supported shells are:
  - bash
  - fish
  - tcsh
  - xonsh
  - zsh
  - powershell

See 'conda init --help' for more information and options.

IMPORTANT: You may need to close and restart your shell after running 'conda init'.


# Init SplitPipe split-pipe v1.0.6p
# Initializing defaults
# Setting threads to 32 (ncpu=64, initial nthreads=0 limited to 32) (init threads)
# No random seed given; Creating one
# Kit set to custom (init kit; mkref mode)
# No samples set
# Set run_name . (init run_name)
# Use_case behavior set to mkref (init use_case)

# # Setting up run-time env; Use_case mkref, Mode mkref, Kit custom Chem None
# Checking run env (conda); timeout 30
# Checking called executables; timeout 30
# Version info: STAR /gpfs/gibbs/project/reilly/mcn26/conda_envs/spipe/bin/STAR 2.7.10b
# Version info: samtools /gpfs/gibbs/project/reilly/mcn26/conda_envs/spipe/bin/samtools samtools 1.17
# Version info: fastqc /gpfs/gibbs/project/reilly/mcn26/conda_envs/spipe/bin/fastqc FastQC v0.12.1
# Version info: gzip /usr/bin/gzip gzip 1.9
# Version info: pigz /gpfs/gibbs/project/reilly/mcn26/conda_envs/spipe/bin/pigz pigz 2.6
# Version info: unzip /gpfs/gibbs/project/reilly/mcn26/conda_envs/spipe/bin/unzip UnZip 6.00 of 20 April 2009, by Debian. Original by Info-ZIP.
# Set up samples; mkref mode; Handled elsewhere; Ignoring
# Opening log ./split-pipe_v1_0_6p.log (bumped 1 prior version(s))
################################################################################
# Program                   split-pipe v1.0.6p
# Run date                  2023-05-25 22:30:52.908618+0
# Run on                    r813u15n09.mccleary.ycrc.yale.edu (x86_64 Linux) by mcn26
# System                    1007.5G (1081840529408) RAM and 64 CPUs
# PID                       427011
################################################################################
#
#                ------ >>> Initialization messages <<< ------
# Setting threads to 32 (ncpu=64, initial nthreads=0 limited to 32) (init threads)
# No random seed given; Creating one
# Kit set to custom (init kit; mkref mode)
# No samples set
# Set run_name . (init run_name)
# Use_case behavior set to mkref (init use_case)
# # Setting up run-time env; Use_case mkref, Mode mkref, Kit custom Chem None
# Checking run env (conda); timeout 30
# Checking called executables; timeout 30
# Version info: STAR /gpfs/gibbs/project/reilly/mcn26/conda_envs/spipe/bin/STAR 2.7.10b
# Version info: samtools /gpfs/gibbs/project/reilly/mcn26/conda_envs/spipe/bin/samtools samtools 1.17
# Version info: fastqc /gpfs/gibbs/project/reilly/mcn26/conda_envs/spipe/bin/fastqc FastQC v0.12.1
# Version info: gzip /usr/bin/gzip gzip 1.9
# Version info: pigz /gpfs/gibbs/project/reilly/mcn26/conda_envs/spipe/bin/pigz pigz 2.6
# Version info: unzip /gpfs/gibbs/project/reilly/mcn26/conda_envs/spipe/bin/unzip UnZip 6.00 of 20 April 2009, by Debian. Original by Info-ZIP.
# Set up samples; mkref mode; Handled elsewhere; Ignoring
# Opening log ./split-pipe_v1_0_6p.log (bumped 1 prior version(s))
#
#                ------ >>> Parameter settings <<< ------
# use_case                  mkref
# mode                      mkref
# chemistry                 <Not set>
# kit                       custom	(1)
# kit_source                automatic
# parfile                   <Not set>
# logfile                   ./split-pipe_v1_0_6p.log
# run_name                  .	(automatic)
# input_dir                 <Not set>
# output_dir                ./
# parent_dir                <Not set>
# fq1                       <Not set>
# fq2                       <Not set>
# sublib_list               <Not set>
# sublib_pref               <Not set>
# sublib_suff               <Not set>
# sublibraries              <Not set>
# samp_list                 <Not set>
# samp_sltab                <Not set>
# sample                    <Not set>
# genome_dir                <Not set>
# genome_name               Item_1_of_1	hg38
# genes                     Item_1_of_1	Homo_sapiens.GRCh38.109.gtf.gz
# fasta                     Item_1_of_1	Homo_sapiens.GRCh38.dna.primary_assembly.fa.gz
# gfasta                    <Not set>
# targeted_list             <Not set>
# focal_barcoding           False
# crispr                    False
# nthreads                  32	(automatic)
# max_threads               32
# rseed                     3822	(automatic)
# reuse                     False
# make_allwell              True
# make_allsample            False
# samp_wells_unique         False
# keep_going                True
# keep_temps                False
# keep_fb_genome            True
# no_compress               False
# gzip_compresslevel        4
# one_step                  False
# start_timeout             30
# dryrun                    False
# bc_save_data_file         True
# bc_save_data_clean        True
# bc_amp_seq                NNNNNNNNNN33333333GTGGCCGATGTTTCGCATCGGCGTACGACT22222222ATCCACGTGCTTGAGACTGTGG11111111
# bc_round_set              <Not set>
# bc_edit_dist              2
# kit_score_warn            0.7
# kit_score_min             0
# kit_score_remain_frac     0.2
# kit_score_skip            False
# tso_seq                   AACGCAGAGTGAATGGG
# tso_read_limit            15
# fastq_samp_slice          [100000, 1100000]
# mkref_id_for_no_name      True
# mkref_gtf_guess_min       1
# mkref_min_genes           1
# mkref_min_exons           1
# mkref_max_gtf_not_fas     0
# mkref_gtf_dict_stepsize   10000
# mkref_star_splicing       True
# mkref_star_genomesaindexnbases 14
# mkref_star_genomesasparsed 2
# mkref_star_extra_args     <Not set>
# inqc_fastqc_run           True
# inqc_fastqc_show_warn     False
# inqc_min_reads            100000
# inqc_min_good_r1len_frac  0.5
# inqc_min_good_r2len_frac  0.9
# pre_min_r1_len            45
# pre_check_name_match      True
# pre_check_name_r1r2       True
# pre_head_keep_seq_index   True
# pre_head_regex            @(\S+)\s+([12])\S*:(\S*)$
# pre_perfect_bc_cell_thresh 0.92
# pre_keep_no_bc_fq         False
# align_min_genome_version  v1.0.4
# align_min_start_reads     50000
# align_star_outfiltermultimapnmax 3
# align_star_keep_no_map    False
# align_star_extra_args     <Not set>
# post_min_map_frac         0.2
# tcr_analysis              False
# tcr_kmer                  21
# tcr_read_threshold        2
# tcr_trim                  30
# mol_min_mapq_score        255
# dge_min_start_tscp        10000
# dge_copy_dge_genes_file   True
# dge_save_express_gene_file True
# dge_ssc_xstep_size        1000
# dge_ssc_xstep_ndup        5
# dge_species_purity_thresh 0.9
# dge_tscp_cut_given        <Not set>
# dge_tscp_cut_min          30
# dge_tscp_cut_max          <Not set>
# dge_tscp_cut_scale_fac    1.0
# dge_cell_est              <Not set>
# dge_cell_given            <Not set>
# dge_cell_gxfold           3
# dge_cell_min              10
# dge_cell_auc_min          0.4
# dge_cell_max              0
# dge_cell_scale_by_frac    True
# dge_cell_hard_min         5
# dge_cell_list             <Not set>
# dge_gene_cell_min         3
# dge_tscp_cut_umin         10
# dge_gene_cell_umin        1
# dge_tscp_cut_targeted_min 15
# dge_tscp_cut_targeted_umin 5
# dge_gene_cell_targeted_min 2
# dge_tscp_read_min         1
# dge_tscp_read_fb_min      2
# dge_gene_tscp_min         1
# dge_gene_tscp_fb_min      2
# dge_fb_gene_tscp_mixmod   True
# comb_new_tscp             False
# comb_unfilt_dge           True
# ana_scanpy_verbosity      <Not set>
# ana_save_anndata          True
# ana_mem_eff_cell_thresh   100000
# ana_norm_target_sum       10000
# ana_scale_max_value       10
# ana_scale_zero_center     True
# ana_pca_min_hvar          100
# ana_pca_dim_max           50
# ana_pca_dim_min           10
# ana_pca_dim_targeted_max  10
# ana_pca_irlbpy            True
# ana_cluster_min_bc        30
# ana_cluster_1base         True
# ana_save_umap             True
# ana_umap_n_neighbors      50
# ana_umap_min_dist         0.5
# ana_cluster_alg           leiden
# ana_ctab_top_n            20
# ana_ctab_sco_min_den      0.01
# ana_gene_cell_min         3
# rep_save_figs             True
# rep_plate_min_zero        True
# rep_umap_subsamp          15000
# rep_umap_ss_clus_min      10
# rep_umap_norm_fac         10000.0
# rep_umap_fb_zero_nc       True
# rep_gene_def_url          https://www.ncbi.nlm.nih.gov/gene/?term={gene_id}
# rep_gene_url              <Not set>
# clean_per_step            False
# clean_make_summaries_zip  True
# map_targ_genome_dir_path  map_targs
# map_targ                  <Not set>
# map_targ_kmer_len         30
# map_targ_kmer_step        1
# map_targ_kmer_search_max  41
# map_targ_kmer_search_step 10
################################################################################


# Time	Starting split-pipe v1.0.6p	2023-05-25 22:30:52.908869+0
# Time	Before Mkref	2023-05-25 22:30:52.908900+0
# >> Running Mkref
#2 MemStatus: Mkref  1.2G proc, 187.8M rss, 1.0G vms, 12.3% usd, 883.9G avail
#2 DskStatus: Mkref  '//' 10.0T total, 1.7T (16.68%) used, 8.3T (83.32%) free
# Processing fasta files
#2 Processing hg38 Homo_sapiens.GRCh38.dna.primary_assembly.fa.gz
# Wrote 194 by 2 table to ./process/all_chrom.csv
#2 GENO_CHROM_DATA Row_1_of_196                       fasta
#2 GENO_CHROM_DATA Row_2_of_196  chrom                     
#2 GENO_CHROM_DATA Row_3_of_196  hg38_1           248956422
#2 GENO_CHROM_DATA Row_4_of_196  hg38_10          133797422
#2 GENO_CHROM_DATA Row_5_of_196  hg38_11          135086622
#2 GENO_CHROM_DATA Row_6_of_196  hg38_12          133275309
#2 Total chromosomes 194, bases 3099750718
# Processing gene annotation files
# Loading 1 listed gtfs
#2 Reading GTF Homo_sapiens.GRCh38.109.gtf.gz
# Tallying data values from 3420361 records
#2 hg38 GTF Homo_sapiens.GRCh38.109.gtf.gz, format flavor Ensembl, 3420361 records
#2 gtf_exon_combined (1648278, 9)
# Wrote 1648278 by 9 table to ./exons.gtf
#2 GENO_PROC_EXON_GTF Row_1_of_1648279                Chromosome                 Source Feature      Start        End Score Strand Frame                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Attributes
#2 GENO_PROC_EXON_GTF Row_2_of_1648279  0                 hg38_1         ensembl_havana    exon    1471765    1472089     .      +     .                                                                                    gene_id "ENSG00000160072"; gene_version "20"; transcript_id "ENST00000673477"; transcript_version "1"; exon_number "1"; gene_name "ATAD3B"; gene_source "ensembl_havana"; gene_biotype "protein_coding"; transcript_name "ATAD3B-206"; transcript_source "ensembl_havana"; transcript_biotype "protein_coding"; tag "CCDS"; ccds_id "CCDS30"; exon_id "ENSE00003889014"; exon_version "1"; tag "basic"; tag "Ensembl_canonical"; tag "MANE_Select";
#2 GENO_PROC_EXON_GTF Row_3_of_1648279  1                 hg38_1         ensembl_havana    exon    1477274    1477350     .      +     .                                                                                    gene_id "ENSG00000160072"; gene_version "20"; transcript_id "ENST00000673477"; transcript_version "1"; exon_number "2"; gene_name "ATAD3B"; gene_source "ensembl_havana"; gene_biotype "protein_coding"; transcript_name "ATAD3B-206"; transcript_source "ensembl_havana"; transcript_biotype "protein_coding"; tag "CCDS"; ccds_id "CCDS30"; exon_id "ENSE00003467707"; exon_version "1"; tag "basic"; tag "Ensembl_canonical"; tag "MANE_Select";
#2 GENO_PROC_EXON_GTF Row_4_of_1648279  2                 hg38_1         ensembl_havana    exon    1478644    1478745     .      +     .                                                                                    gene_id "ENSG00000160072"; gene_version "20"; transcript_id "ENST00000673477"; transcript_version "1"; exon_number "3"; gene_name "ATAD3B"; gene_source "ensembl_havana"; gene_biotype "protein_coding"; transcript_name "ATAD3B-206"; transcript_source "ensembl_havana"; transcript_biotype "protein_coding"; tag "CCDS"; ccds_id "CCDS30"; exon_id "ENSE00003569130"; exon_version "1"; tag "basic"; tag "Ensembl_canonical"; tag "MANE_Select";
#2 GENO_PROC_EXON_GTF Row_5_of_1648279  3                 hg38_1         ensembl_havana    exon    1479049    1479108     .      +     .                                                                                    gene_id "ENSG00000160072"; gene_version "20"; transcript_id "ENST00000673477"; transcript_version "1"; exon_number "4"; gene_name "ATAD3B"; gene_source "ensembl_havana"; gene_biotype "protein_coding"; transcript_name "ATAD3B-206"; transcript_source "ensembl_havana"; transcript_biotype "protein_coding"; tag "CCDS"; ccds_id "CCDS30"; exon_id "ENSE00003608502"; exon_version "1"; tag "basic"; tag "Ensembl_canonical"; tag "MANE_Select";
#2 GENO_PROC_EXON_GTF Row_6_of_1648279  4                 hg38_1         ensembl_havana    exon    1480867    1480936     .      +     .                                                                                    gene_id "ENSG00000160072"; gene_version "20"; transcript_id "ENST00000673477"; transcript_version "1"; exon_number "5"; gene_name "ATAD3B"; gene_source "ensembl_havana"; gene_biotype "protein_coding"; transcript_name "ATAD3B-206"; transcript_source "ensembl_havana"; transcript_biotype "protein_coding"; tag "CCDS"; ccds_id "CCDS30"; exon_id "ENSE00003474888"; exon_version "1"; tag "basic"; tag "Ensembl_canonical"; tag "MANE_Select";
#2 gtf_gene_combined, slicing True (62710, 9)
# Wrote 62710 by 9 table to ./genes.gtf
#2 GENO_PROC_GENE_GTF Row_1_of_62711              Chromosome                 Source Feature      Start        End Score Strand Frame                                                                                                                                              Attributes
#2 GENO_PROC_GENE_GTF Row_2_of_62711  0               hg38_1         ensembl_havana    gene    1471765    1497848     .      +     .                          gene_id "ENSG00000160072"; gene_version "20"; gene_name "ATAD3B"; gene_source "ensembl_havana"; gene_biotype "protein_coding";
#2 GENO_PROC_GENE_GTF Row_3_of_62711  1               hg38_1                 havana    gene     182696     184174     .      +     .                         gene_id "ENSG00000279928"; gene_version "2"; gene_name "DDX11L17"; gene_source "havana"; gene_biotype "unprocessed_pseudogene";
#2 GENO_PROC_GENE_GTF Row_4_of_62711  2               hg38_1                 havana    gene    2581560    2584533     .      +     .                                                               gene_id "ENSG00000228037"; gene_version "1"; gene_source "havana"; gene_biotype "lncRNA";
#2 GENO_PROC_GENE_GTF Row_5_of_62711  3               hg38_1         ensembl_havana    gene    3069168    3438621     .      +     .                          gene_id "ENSG00000142611"; gene_version "17"; gene_name "PRDM16"; gene_source "ensembl_havana"; gene_biotype "protein_coding";
#2 GENO_PROC_GENE_GTF Row_6_of_62711  4               hg38_1                 havana    gene    5301928    5307394     .      -     .                                                               gene_id "ENSG00000284616"; gene_version "1"; gene_source "havana"; gene_biotype "lncRNA";
# Collecting biotype info with key='gene_biotype'
#2 Saving gene_info file
#2 Number of gene_bins 483326
#2 Write_gene_info: ./gene_info.json
#2 Read Dataframe: Dims 194 x 1, Mem 3.0K (3104) from ./process/all_chrom.csv
# Wrote 194 by 4 table to ./process/all_chrom.csv
#2 GENO_CHROM_DATA Row_1_of_196                       fasta  gene    exon
#2 GENO_CHROM_DATA Row_2_of_196  chrom                                   
#2 GENO_CHROM_DATA Row_3_of_196  hg38_1           248956422  5659  153359
#2 GENO_CHROM_DATA Row_4_of_196  hg38_10          133797422  2428   65194
#2 GENO_CHROM_DATA Row_5_of_196  hg38_11          135086622  3470   94428
#2 GENO_CHROM_DATA Row_6_of_196  hg38_12          133275309  3144   89338
# Checking fasta gtf overlap
#2 Read Dataframe: Dims 194 x 3, Mem 6.1K (6208) from ./process/all_chrom.csv
#2 Fasta chrom (min 1 bp) 194, gtf chrom (min 1 gene) 47, gtf uncovered 0
# Generating gene data tables
#2 Building gene data table
#2 Missing gene names: 20930
# Replaced 20930 missing gene names with IDs
# Wrote 62710 by 3 table to ./all_genes.csv
#2 GENO_GENE_DATA Row_1_of_62711                 gene_id                  gene_name genome
#2 GENO_GENE_DATA Row_2_of_62711  0      ENSG00000000003                     TSPAN6   hg38
#2 GENO_GENE_DATA Row_3_of_62711  1      ENSG00000000005                       TNMD   hg38
#2 GENO_GENE_DATA Row_4_of_62711  2      ENSG00000000419                       DPM1   hg38
#2 GENO_GENE_DATA Row_5_of_62711  3      ENSG00000000457                      SCYL3   hg38
#2 GENO_GENE_DATA Row_6_of_62711  4      ENSG00000000460                   C1orf112   hg38
#2 Loading sequences ./genome.fas
#2 Building stats table
# Wrote 62710 by 11 table to ./process/all_gene_stats.csv
#2 GENO_GENE_STATS Row_1_of_62711                 gene_id                       name            chrom    g_start    g_len strand  ex_num  ex_len   g_gc  ex_gc                             biotype
#2 GENO_GENE_STATS Row_2_of_62711  0      ENSG00000160072                     ATAD3B           hg38_1    1471764    26083      +      22    5897  58.83  62.32                      protein_coding
#2 GENO_GENE_STATS Row_3_of_62711  1      ENSG00000279928                   DDX11L17           hg38_1     182695     1478      +       5     570  59.54  58.07              unprocessed_pseudogene
#2 GENO_GENE_STATS Row_4_of_62711  2      ENSG00000228037                                      hg38_1    2581559     2973      +       3     626  51.13  48.56                              lncRNA
#2 GENO_GENE_STATS Row_5_of_62711  3      ENSG00000142611                     PRDM16           hg38_1    3069167   369453      +      29    7449  57.58  60.10                      protein_coding
#2 GENO_GENE_STATS Row_6_of_62711  4      ENSG00000284616                                      hg38_1    5301927     5466      -       4    1225  43.87  45.63                              lncRNA
# Creating genome index
# Subproc:, Call:   /gpfs/gibbs/project/reilly/mcn26/conda_envs/spipe/bin/STAR --runMode genomeGenerate --genomeDir . --genomeFastaFiles ./genome.fas --runThreadN 32 --limitGenomeGenerateRAM 24000000000 --genomeSAindexNbases 14 --genomeSAsparseD 2 --sjdbGTFfile ./exons.gtf
# Subproc: Status: True
# Subproc: Output: (first 100 char)
	/gpfs/gibbs/project/reilly/mcn26/conda_envs/spipe/bin/STAR-avx2 --runMode genomeGenerate --genomeDi
# Subproc: Duration 0:23:26.52
# STAR output saved to ./process/STAR_mkref_sdtout.txt
# Cleaning up
# Subproc:, Call:   pigz --force ./genome.fas -4
# Subproc: Status: True
# Subproc: Output: (first 100 char)

# Subproc: Duration 0:00:19.69
# Subproc:, Call:   pigz --force ./genes.gtf -4
# Subproc: Status: True
# Subproc: Output: (first 100 char)

# Subproc: Duration 0:00:00.14
# Subproc:, Call:   pigz --force ./exons.gtf -4
# Subproc: Status: True
# Subproc: Output: (first 100 char)

# Subproc: Duration 0:00:01.25
# Saved env info ./process/mkref_def.json 
#2 MemStatus: Mkref  7.9G proc, 3.5G rss, 4.3G vms, 12.9% usd, 877.9G avail
#2 DskStatus: Mkref  '//' 10.0T total, 1.7T (16.85%) used, 8.3T (83.15%) free
# << Running Mkref; Status True; Duration 0:28:12.96

# Finished successfully (0 problems)

# Time	Total elapsed 	0:28:12.98
# Time	All done	2023-05-25 22:59:05.894915+0
# Closing down SplitPipe
New file: ./split-pipe_v1_0_6p.log
# Total time 0:28:18.47
